<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>matrix</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="d-flex justify-content-center flex-column">
    <div class="contianer mt-5 d-flex justify-content-center">
      <div>
        <h1>Matrix Calculator</h1>
        <input
          type="number"
          placeholder="enter matrix number"
          required
          id="input"
          class="p-1 mt-3"
        />
        <input
          type="submit"
          value="Generate"
          id="button"
          onclick="generate()"
          class="btn btn-warning"
        />
      </div>
    </div>

    <div id="matrix" class="matrix d-flex justify-content-center mt-3">
      <div class="d-flex flex-column">
        <div class="d-flex mt-3 justify-content-center align-items-center">
          <div id="mat1"></div>
          <div><h1>+</h1></div>
          <div id="mat2"></div>
        </div>

        <div
          class="mt-3"
          style="display: flex; justify-content: center; gap: 3%"
        >
          <button onclick="add()" class="btn btn-primary">Add</button>
          <button onclick="sub()" class="btn btn-primary">Sub</button>
          <button onclick="mul()" class="btn btn-primary">Mul</button>
          <button onclick="div()" class="btn btn-primary">Div</button>
        </div>

        <div class="mt-3 d-flex justify-content-center">
          <div id="mat3"></div>
        </div>
      </div>
    </div>

    <script>
      let input = "";

      function generate() {
        let mat1 = document.querySelector("#mat1");
        let mat2 = document.querySelector("#mat2");
        let mat3 = document.querySelector("#mat3");

        mat1.innerHTML = "";
        mat2.innerHTML = "";
        mat3.innerHTML = "";

        input = +document.querySelector("#input").value;

        for (let i = 0; i < input; i++) {
          for (let j = 0; j < input; j++) {
            mat1.innerHTML += `<input type="number" required min="0" max="100" id="m1-${i}-${j}" value='0'>`;
            mat2.innerHTML += `<input type="number" required min="0" max="100" id="m2-${i}-${j}" value='0'>`;
            mat3.innerHTML += `<input type="number" readonly required min="0" max="100" id="mat3-${i}-${j}" value='0'>`;
          }
          mat1.innerHTML += `<br>`;
          mat2.innerHTML += `<br>`;
          mat3.innerHTML += `<br>`;
        }
        document.querySelector("#matrix").classList.remove("matrix");
      }

      // function for additon

      function add() {
        let matrix1 = [];
        let matrix2 = [];

        for (let i = 0; i < input; i++) {
          for (let j = 0; j < input; j++) {
            if (matrix1[i] === undefined) matrix1[i] = [];
            if (matrix2[i] === undefined) matrix2[i] = [];

            matrix1[i][j] = +document.querySelector(`#m1-${i}-${j}`).value;
            matrix2[i][j] = +document.querySelector(`#m2-${i}-${j}`).value;
          }
        }

        let result = addMatrix(matrix1, matrix2);
        for (let i = 0; i < result.length; i++) {
          for (let j = 0; j < result[i].length; j++) {
            document.querySelector(`#mat3-${i}-${j}`).value = result[i][j];
          }
        }
      }

      function addMatrix(matrix1, matrix2) {
        let result = [];
        for (let i = 0; i < matrix1.length; i++) {
          result[i] = [];
          for (let j = 0; j < matrix2[i].length; j++) {
            result[i][j] = matrix1[i][j] + matrix2[i][j];
          }
        }
        return result;
      }

      // function for Subtraction
      function sub() {
        let matrix1 = [];
        let matrix2 = [];

        for (let i = 0; i < input; i++) {
          for (let j = 0; j < input; j++) {
            if (matrix1[i] === undefined) matrix1[i] = [];
            if (matrix2[i] === undefined) matrix2[i] = [];

            matrix1[i][j] = +document.querySelector(`#m1-${i}-${j}`).value;
            matrix2[i][j] = +document.querySelector(`#m2-${i}-${j}`).value;
          }
        }

        let result = subMatrix(matrix1, matrix2);
        for (let i = 0; i < result.length; i++) {
          for (let j = 0; j < result[i].length; j++) {
            document.querySelector(`#mat3-${i}-${j}`).value = result[i][j];
          }
        }
      }

      function subMatrix(matrix1, matrix2) {
        let result = [];
        for (let i = 0; i < matrix1.length; i++) {
          result[i] = [];
          for (let j = 0; j < matrix2[i].length; j++) {
            result[i][j] = matrix1[i][j] - matrix2[i][j];
          }
        }
        return result;
      }

      // funtion for Multiplication
      function mul() {
        let matrix1 = [];
        let matrix2 = [];

        for (let i = 0; i < input; i++) {
          for (let j = 0; j < input; j++) {
            if (matrix1[i] === undefined) matrix1[i] = [];
            if (matrix2[i] === undefined) matrix2[i] = [];

            matrix1[i][j] = +document.querySelector(`#m1-${i}-${j}`).value;
            matrix2[i][j] = +document.querySelector(`#m2-${i}-${j}`).value;
          }
        }

        let result = mulMatrix(matrix1, matrix2);
        for (let i = 0; i < result.length; i++) {
          for (let j = 0; j < result[i].length; j++) {
            document.querySelector(`#mat3-${i}-${j}`).value = result[i][j];
          }
        }
      }

      function mulMatrix(matrix1, matrix2) {
        let result = [];
        for (let i = 0; i < matrix1.length; i++) {
          result[i] = [];
          for (let j = 0; j < matrix2[i].length; j++) {
            result[i][j] = matrix1[i][j] * matrix2[i][j];
          }
        }
        return result;
      }

      // function for Division
      function div() {
        let matrix1 = [];
        let matrix2 = [];

        for (let i = 0; i < input; i++) {
          for (let j = 0; j < input; j++) {
            if (matrix1[i] === undefined) matrix1[i] = [];
            if (matrix2[i] === undefined) matrix2[i] = [];

            matrix1[i][j] = +document.querySelector(`#m1-${i}-${j}`).value;
            matrix2[i][j] = +document.querySelector(`#m2-${i}-${j}`).value;
          }
        }

        let result = divMatrix(matrix1, matrix2);
        for (let i = 0; i < result.length; i++) {
          for (let j = 0; j < result[i].length; j++) {
            document.querySelector(`#mat3-${i}-${j}`).value = result[i][j];
          }
        }
      }

      function divMatrix(matrix1, matrix2) {
        let result = [];
        for (let i = 0; i < matrix1.length; i++) {
          result[i] = [];
          for (let j = 0; j < matrix2[i].length; j++) {
            result[i][j] = (matrix1[i][j] / matrix2[i][j]).toFixed(2);
          }
        }
        return result;
      }
    </script>
  </body>
</html>
